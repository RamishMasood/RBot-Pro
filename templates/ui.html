<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>RBot Pro | Multi-Exchange Technical Analysis</title>
    <meta name="description"
        content="RBot Pro - Advanced Multi-Exchange Real-Time Technical Analysis Signal Generator supporting MEXC, Binance, Bitget, Bybit, OKX, KuCoin, Gate.io, HTX">
    <script src="{{ url_for('static', filename='socket.io.min.js') }}"></script>
    <link rel="stylesheet" href="{{ url_for('static', filename='advanced_style.css') }}">
    <!-- TradingView Lightweight Charts -->
    <script
        src="https://cdn.jsdelivr.net/npm/lightweight-charts@4.1.1/dist/lightweight-charts.standalone.production.js"></script>
</head>

<body>
    <div class="main-container">
        <!-- Header -->
        <header class="header">
            <div class="header-content">
                <h1>üî• RBot Pro | Real-Time Complete Technical Analysis</h1>
                <p>Advanced Multi-Exchange Trading Signal Generator ‚Äî All Exchanges Supported</p>
            </div>
            <div class="status-bar">
                <span class="status-indicator" id="statusIndicator">‚óè</span>
                <span id="statusText">Disconnected</span>
            </div>
        </header>

        <div class="main-content">
            <!-- Sidebar Settings -->
            <aside class="sidebar">
                <div class="sidebar-section">
                    <h3>‚öôÔ∏è Configuration</h3>

                    <!-- Exchange Selector (Multi-Select) -->
                    <div class="config-group">
                        <label>üè¢ Select Exchanges</label>
                        <div class="selector-controls">
                            <button class="btn-mini" onclick="selectAllExchanges()">Select All</button>
                            <button class="btn-mini" onclick="deselectAllExchanges()">Deselect All</button>
                        </div>
                        <div id="exchangeList" class="checkbox-group exchange-grid">
                            <label class="exchange-label mexc"><input type="checkbox" value="MEXC" checked> <span
                                    class="exchange-icon">üü¢</span> MEXC</label>
                            <label class="exchange-label binance"><input type="checkbox" value="Binance" checked> <span
                                    class="exchange-icon">üü°</span> Binance</label>
                            <label class="exchange-label bitget"><input type="checkbox" value="Bitget"> <span
                                    class="exchange-icon">üîµ</span> Bitget</label>
                            <label class="exchange-label bybit"><input type="checkbox" value="Bybit"> <span
                                    class="exchange-icon">üü†</span> Bybit</label>
                            <label class="exchange-label okx"><input type="checkbox" value="OKX"> <span
                                    class="exchange-icon">‚ö™</span> OKX</label>
                            <label class="exchange-label kucoin"><input type="checkbox" value="KuCoin"> <span
                                    class="exchange-icon">üü¢</span> KuCoin</label>
                            <label class="exchange-label gateio"><input type="checkbox" value="GateIO"> <span
                                    class="exchange-icon">üî∑</span> Gate.io</label>
                            <label class="exchange-label htx"><input type="checkbox" value="HTX"> <span
                                    class="exchange-icon">üî∂</span> HTX</label>
                        </div>
                        <div class="exchange-info-badge">
                            <span id="selectedExchangesCount">2</span> exchange(s) selected
                        </div>
                    </div>

                    <!-- Symbols Selector -->
                    <div class="config-group">
                        <label>üìä Select Cryptocurrencies</label>
                        <div class="selector-controls">
                            <button class="btn-mini" onclick="selectAllSymbols()">Select All</button>
                            <button class="btn-mini" onclick="deselectAllSymbols()">Deselect All</button>
                        </div>
                        <div class="coin-search-box">
                            <input type="text" id="coinSearchInput" placeholder="üîç Search coins..."
                                oninput="searchSymbols(this.value)" autocomplete="off">
                        </div>
                        <div id="symbolList" class="checkbox-group">
                            <label><input type="checkbox" value="BTCUSDT" checked> Bitcoin</label>
                            <label><input type="checkbox" value="ETHUSDT" checked> Ethereum</label>
                            <label><input type="checkbox" value="SOLUSDT" checked> Solana</label>
                            <label><input type="checkbox" value="BNBUSDT" checked> Binance</label>
                            <label><input type="checkbox" value="XRPUSDT" checked> XRP</label>
                        </div>
                        <div class="add-coin-box">
                            <input type="text" id="addCoinInput" placeholder="e.g. NMRUSDT" autocomplete="off"
                                onkeydown="if(event.key==='Enter'){addCustomCoin(); event.preventDefault();}">
                            <button class="btn-mini add-coin-btn" onclick="addCustomCoin()">+ Add</button>
                        </div>
                        <div class="load-coins-btn">
                            <button class="btn-mini secondary" onclick="loadAvailableCoins()">Load Top Coins (All
                                Selected)</button>
                        </div>
                    </div>

                    <!-- Indicators Selector -->
                    <div class="config-group">
                        <label>üìà Select Indicators</label>
                        <div class="selector-controls">
                            <button class="btn-mini" onclick="selectAllIndicators()">Select All</button>
                            <button class="btn-mini" onclick="deselectAllIndicators()">Deselect All</button>
                        </div>
                        <div id="indicatorList" class="checkbox-group">
                            <div class="indicator-category"
                                style="grid-column: 1 / -1; font-weight: bold; color: #ff3e3e; margin-top: 10px; border-bottom: 1px solid #333;">
                                üî• ELITE 2026 INDICATORS</div>
                            <label><input type="checkbox" value="CHOP" checked> Choppiness Index</label>
                            <label><input type="checkbox" value="VI" checked> Vortex Indicator</label>
                            <label><input type="checkbox" value="STC" checked> Schaff Trend Cycle</label>
                            <label><input type="checkbox" value="DON" checked> Donchian Channels</label>
                            <label><input type="checkbox" value="CHoCH" checked> SMC CHoCH</label>
                            <label><input type="checkbox" value="KC" checked> Keltner Channels</label>
                            <label><input type="checkbox" value="UTBOT" checked> UT Bot Alerts</label>
                            <label><input type="checkbox" value="UO" checked> Ultimate Oscillator</label>
                            <label><input type="checkbox" value="STDEV" checked> Standard Deviation</label>
                            <label><input type="checkbox" value="VP" checked> Volume Profile</label>
                            <label><input type="checkbox" value="SUPDEM" checked> Supply/Demand Zones</label>
                            <label><input type="checkbox" value="FIB" checked> Fibonacci Retracement</label>
                            <label><input type="checkbox" value="ICT_WD" checked> ICT Wealth Division</label>
                            <label><input type="checkbox" value="REGIME" checked> Market Regime (2026)</label>
                            <label><input type="checkbox" value="DELTA" checked> Cumulative Delta</label>
                            <label><input type="checkbox" value="ZSCORE" checked> Z-Score Reversion</label>
                            <label><input type="checkbox" value="WYCKOFF" checked> Wyckoff Phases</label>
                            <label><input type="checkbox" value="RVOL" checked> Relative Volume (RVOL)</label>

                            <div class="indicator-category"
                                style="grid-column: 1 / -1; font-weight: bold; color: #ff00ff; margin-top: 10px; border-bottom: 1px solid #333;">
                                üöÄ SUPERSCALP 2026 INDICATORS</div>
                            <label><input type="checkbox" value="PSAR" checked> Parabolic SAR</label>
                            <label><input type="checkbox" value="TEMA" checked> Triple EMA (TEMA)</label>
                            <label><input type="checkbox" value="CHANDELIER" checked> Chandelier Exit</label>
                            <label><input type="checkbox" value="KAMA" checked> Kaufman Adaptive MA</label>
                            <label><input type="checkbox" value="VFI" checked> Volume Flow Indicator</label>
                            <label><input type="checkbox" value="ZLSMA" checked> Zero-Lag LSMA</label>
                            <label><input type="checkbox" value="TSI" checked> True Strength Index</label>

                            <div class="indicator-category"
                                style="grid-column: 1 / -1; font-weight: bold; color: #00ff88; margin-top: 10px; border-bottom: 1px solid #333;">
                                üìà STANDARD INDICATORS</div>
                            <label><input type="checkbox" value="RSI" checked> RSI</label>
                            <label><input type="checkbox" value="EMA" checked> EMA</label>
                            <label><input type="checkbox" value="MACD" checked> MACD</label>
                            <label><input type="checkbox" value="BB" checked> Bollinger Bands</label>
                            <label><input type="checkbox" value="ATR" checked> ATR</label>
                            <label><input type="checkbox" value="ADX" checked> ADX</label>
                            <label><input type="checkbox" value="OB" checked> Order Blocks</label>
                            <label><input type="checkbox" value="PA" checked> Price Action</label>
                            <label><input type="checkbox" value="StochRSI" checked> StochRSI</label>
                            <label><input type="checkbox" value="OBV" checked> OBV</label>
                            <label><input type="checkbox" value="ST" checked> SuperTrend</label>
                            <label><input type="checkbox" value="VWAP" checked> VWAP</label>
                            <label><input type="checkbox" value="HMA" checked> HMA</label>
                            <label><input type="checkbox" value="CMF" checked> CMF</label>
                            <label><input type="checkbox" value="ICHI" checked> Ichimoku</label>
                            <label><input type="checkbox" value="FVG" checked> Fair Value Gap</label>
                            <label><input type="checkbox" value="DIV" checked> RSI Divergence</label>
                            <label><input type="checkbox" value="WT" checked> WaveTrend (LazyBear)</label>
                            <label><input type="checkbox" value="SQZ" checked> TTM Squeeze</label>
                            <label><input type="checkbox" value="LIQ" checked> Liquidity Sweep (SMC)</label>
                            <label><input type="checkbox" value="BOS" checked> Market Structure (BOS)</label>
                            <label><input type="checkbox" value="MFI" checked> Money Flow Index</label>
                            <label><input type="checkbox" value="FISH" checked> Fisher Transform</label>
                            <label><input type="checkbox" value="ZLSMA" checked> Zero Lag SMA</label>
                            <label><input type="checkbox" value="TSI" checked> True Strength Index</label>
                        </div>
                    </div>

                    <!-- Strategies Selector -->
                    <div class="config-group">
                        <label>üéØ Select Strategies</label>
                        <div class="selector-controls">
                            <button class="btn-mini" onclick="selectAllStrategies()">Select All</button>
                            <button class="btn-mini" onclick="deselectAllStrategies()">Deselect All</button>
                        </div>
                        <div id="strategyList" class="checkbox-group">
                            <div class="indicator-category"
                                style="grid-column: 1 / -1; font-weight: bold; color: #ffd700; margin-top: 10px; border-bottom: 1px solid #333;">
                                üèÜ ELITE 2026 STRATEGIES</div>
                            <label><input type="checkbox" value="QUANTUM_CONFLUENCE" checked> Quantum Confluence</label>
                            <label><input type="checkbox" value="SMC_ELITE" checked> SMC Elite</label>
                            <label><input type="checkbox" value="HARMONIC_PRO" checked> Harmonic Pro</label>
                            <label><input type="checkbox" value="SMC_CHOCH" checked> SMC CHoCH</label>
                            <label><input type="checkbox" value="ICT_SILVER_BULLET" checked> ICT Silver Bullet</label>
                            <label><input type="checkbox" value="UTBOT_ELITE" checked> UTBot Elite</label>

                            <div class="indicator-category"
                                style="grid-column: 1 / -1; font-weight: bold; color: #ff00ff; margin-top: 10px; border-bottom: 1px solid #333;">
                                üöÄ ADVANCED / SMC</div>
                            <label><input type="checkbox" value="FVG_GAP_FILL" checked> FVG Gap Fill</label>
                            <label><input type="checkbox" value="DIVERGENCE_PRO" checked> Divergence Pro</label>
                            <label><input type="checkbox" value="LIQUIDITY_GRAB" checked> Liquidity Grab</label>
                            <label><input type="checkbox" value="WAVETREND_EXTREME" checked> WaveTrend Extreme</label>
                            <label><input type="checkbox" value="SQUEEZE_BREAKOUT" checked> Squeeze Breakout</label>
                            <label><input type="checkbox" value="MFI_REVERSION" checked> MFI Reversion</label>
                            <label><input type="checkbox" value="ZLSMA_FAST_SCALP" checked> ZLSMA Fast Scalp</label>
                            <label><input type="checkbox" value="VOLUME_SPIKE" checked> Volume Spike</label>
                            <label><input type="checkbox" value="REGIME_ADAPTIVE" checked> Regime Adaptive</label>
                            <label><input type="checkbox" value="WYCKOFF_SPRING" checked> Wyckoff Spring</label>
                            <label><input type="checkbox" value="SMART_MONEY_TRAP" checked> Smart Money Trap</label>

                            <div class="indicator-category"
                                style="grid-column: 1 / -1; font-weight: bold; color: #00ff88; margin-top: 10px; border-bottom: 1px solid #333;">
                                üìà STANDARD / PERFORMANCE</div>
                            <label><input type="checkbox" value="SWING" checked> Swing Trend</label>
                            <label><input type="checkbox" value="SCALP" checked> Scalp Momentum</label>
                            <label><input type="checkbox" value="STOCH_PULLBACK" checked> StochRSI Pullback</label>
                            <label><input type="checkbox" value="BB_BREAKOUT" checked> Volatility Breakout</label>
                            <label><input type="checkbox" value="SUPERTREND_FOLLOW" checked> SuperTrend Follow</label>
                            <label><input type="checkbox" value="VWAP_REVERSION" checked> VWAP Reversion</label>
                            <label><input type="checkbox" value="ICHIMOKU_TK" checked> Ichimoku TK</label>
                            <label><input type="checkbox" value="ADX_MOMENTUM" checked> ADX Momentum</label>
                            <label><input type="checkbox" value="BOLLINGER_REVERSION" checked> Bollinger
                                Reversion</label>
                            <label><input type="checkbox" value="FISHER_TRANSFORM" checked> Fisher Transform</label>
                            <label><input type="checkbox" value="DONCHIAN_BREAKOUT" checked> Donchian Breakout</label>
                            <label><input type="checkbox" value="STC_MOMENTUM" checked> STC Momentum</label>
                            <label><input type="checkbox" value="VORTEX_TREND" checked> Vortex Trend</label>
                            <label><input type="checkbox" value="KELTNER_REVERSION" checked> Keltner Reversion</label>
                            <label><input type="checkbox" value="VOLATILITY_CAPITULATION" checked> Volatility
                                Capitulation</label>
                            <label><input type="checkbox" value="MOMENTUM_CONFLUENCE" checked> Momentum
                                Confluence</label>
                            <label><input type="checkbox" value="ICT_WEALTH_DIVISION" checked> ICT Wealth
                                Division</label>
                            <label><input type="checkbox" value="HARMONIC_GARTLEY" checked> Harmonic Gartley</label>
                            <label><input type="checkbox" value="PSAR_TEMA_SCALP" checked> PSAR TEMA Scalp</label>
                            <label><input type="checkbox" value="KAMA_VOLATILITY_SCALP" checked> KAMA Vol Scalp</label>
                            <label><input type="checkbox" value="VFI_MOMENTUM_SCALP" checked> VFI Momentum Scalp</label>
                            <label><input type="checkbox" value="TRIPLE_CONFLUENCE" checked> Triple Confluence</label>
                            <label><input type="checkbox" value="ZSCORE_REVERSION" checked> Z-Score Reversion</label>
                            <label><input type="checkbox" value="MTF_TREND_RIDER" checked> MTF Trend Rider</label>
                            <label><input type="checkbox" value="MOMENTUM_EXHAUSTION" checked> Momentum
                                Exhaustion</label>
                        </div>
                    </div>

                    <!-- Timeframes Selector -->
                    <div class="config-group">
                        <label>‚è±Ô∏è Select Timeframes</label>
                        <div class="selector-controls">
                            <button class="btn-mini" onclick="selectAllTimeframes()">Select All</button>
                            <button class="btn-mini" onclick="deselectAllTimeframes()">Deselect All</button>
                        </div>
                        <div id="timeframeList" class="checkbox-group grid-2">
                            <label><input type="checkbox" value="1m" checked> 1m</label>
                            <label><input type="checkbox" value="3m" checked> 3m</label>
                            <label><input type="checkbox" value="5m" checked> 5m</label>
                            <label><input type="checkbox" value="15m" checked> 15m</label>
                            <label><input type="checkbox" value="30m" checked> 30m</label>
                            <label><input type="checkbox" value="1h" checked> 1h</label>
                            <label><input type="checkbox" value="4h" checked> 4h</label>
                            <label><input type="checkbox" value="1d" checked> 1d</label>
                        </div>
                    </div>

                    <!-- Confidence Threshold -->
                    <div class="config-group">
                        <label>üéØ Min Confidence: <span id="confidenceValue">5</span>/10</label>
                        <input type="range" id="confidenceSlider" min="1" max="10" value="5"
                            onchange="updateConfidence(this.value)">
                    </div>

                    <!-- Signal Quality Selector -->
                    <div class="config-group">
                        <label>üèÖ Signal Quality</label>
                        <div id="qualityList" class="checkbox-group">
                            <label class="quality-label" style="color:#ffd700;"><input type="checkbox" value="ELITE"
                                    checked onchange="filterSignalsByQuality()"> üèÜ ELITE</label>
                            <label class="quality-label" style="color:#00ff88;"><input type="checkbox" value="STRONG"
                                    checked onchange="filterSignalsByQuality()"> üí™ STRONG</label>
                            <label class="quality-label" style="color:#00d4ff;"><input type="checkbox" value="STANDARD"
                                    checked onchange="filterSignalsByQuality()"> üìä STANDARD</label>
                        </div>
                    </div>

                    <!-- Risk Profile & Customization -->
                    <div class="config-group">
                        <label>üõ°Ô∏è Analysis Risk Profile</label>
                        <select id="riskProfile" onchange="updateRiskProfile()"
                            style="width:100%; padding:8px; background:var(--bg-panel); border:1px solid var(--border); color:#fff; border-radius:4px;">
                            <option value="conservative">Conservative (9/10+ Only)</option>
                            <option value="moderate" selected>Moderate (7/10+ Only)</option>
                            <option value="aggressive">Aggressive (5/10+ Only)</option>
                        </select>
                    </div>

                    <!-- Telegram Notifications -->
                    <div class="sidebar-section" style="margin-top: 20px; border-color: #0088cc55;">
                        <h3 style="color: #0088cc;">üì± Mobile Alerts (Telegram)</h3>
                        <div class="config-group">
                            <label style="color: #0088cc;">Bot Token:</label>
                            <input type="password" id="tgToken" placeholder="Enter Bot Token"
                                onchange="updateTelegramConfig()"
                                style="width:100%; padding:7px; background:var(--bg-main); border:1px solid var(--border); color:#fff; font-size:0.8em;">
                        </div>
                        <div class="config-group">
                            <label style="color: #0088cc;">Chat ID:</label>
                            <input type="text" id="tgChatId" placeholder="Enter Chat ID"
                                onchange="updateTelegramConfig()"
                                style="width:100%; padding:7px; background:var(--bg-main); border:1px solid var(--border); color:#fff; font-size:0.8em;">
                        </div>
                        <p style="font-size: 0.7em; color: #666; margin-top: 5px;">*Redirects all found signals to your
                            Telegram.</p>
                    </div>

                    <!-- Auto-Run Settings -->
                    <div class="config-group row" style="margin-top: 20px;">
                        <label>ü§ñ Auto-Run Analysis</label>
                        <div class="toggle-switch">
                            <input type="checkbox" id="autoRunToggle" onchange="toggleAutoRun()">
                            <label for="autoRunToggle" class="toggle-slider"></label>
                        </div>
                    </div>
                    <div class="config-group">
                        <div id="autoRunOptions" style="display:none;">
                            <label>Interval:</label>
                            <select id="autoRunInterval" onchange="updateAutoRunInterval()">
                                <option value="10">Every 10 seconds</option>
                                <option value="30">Every 30 seconds</option>
                                <option value="45">Every 45 seconds</option>
                                <option value="60">Every 1 minute</option>
                                <option value="180">Every 3 minutes</option>
                                <option value="300" selected>Every 5 minutes</option>
                                <option value="600">Every 10 minutes</option>
                                <option value="900">Every 15 minutes</option>
                            </select>
                        </div>
                    </div>

                    <!-- Auto Trader Section -->
                    <div class="sidebar-section" style="border-color:#00ff8855;">
                        <h3 style="color:#00ff88;">ü§ñ Auto Trader (Real)</h3>
                        <div class="config-group row">
                            <label>Master Switch</label>
                            <div class="toggle-switch">
                                <input type="checkbox" id="autoTradeToggle" onchange="toggleAutoTrader()">
                                <label for="autoTradeToggle" class="toggle-slider"></label>
                            </div>
                        </div>
                        <div class="config-group">
                            <button class="btn btn-mini" onclick="openTraderConfig()"
                                style="width:100%; border:1px solid #00ff8855;">‚öôÔ∏è Setup Keys & Risk</button>
                        </div>
                        <div id="traderStatus" style="font-size:0.8em; color:#888; margin-top:5px; text-align:center;">
                            Not Configured
                        </div>
                    </div>
                </div>

                <!-- Action Buttons -->
                <div class="sidebar-section">
                    <button id="startBtn" class="btn btn-primary" onclick="startAnalysis()">
                        ‚ñ∂ START ANALYSIS
                    </button>
                    <button id="stopBtn" class="btn btn-secondary" onclick="stopAnalysis()" disabled>
                        ‚èπ STOP
                    </button>
                    <button class="btn btn-secondary" onclick="clearTerminal()">
                        ‚úï CLEAR OUTPUT
                    </button>
                </div>

                <!-- Stats -->
                <div class="sidebar-section stats-box">
                    <div class="stat-row">
                        <span>Exchanges:</span>
                        <span id="selectedExchangesDisplay">2</span>
                    </div>
                    <div class="stat-row">
                        <span>Selected Coins:</span>
                        <span id="selectedCoinsCount">5</span>
                    </div>
                    <div class="stat-row">
                        <span>Indicators:</span>
                        <span id="selectedIndicatorsCount">8</span>
                    </div>
                    <div class="stat-row">
                        <span>Strategies:</span>
                        <span id="selectedStrategiesCount">42</span>
                    </div>
                    <div class="stat-row">
                        <span>Output Lines:</span>
                        <span id="lineCount">0</span>
                    </div>
                    <div class="stat-row">
                        <span>Elapsed Time:</span>
                        <span id="elapsedTime">00:00:00</span>
                    </div>
                </div>

            </aside>

            <!-- Main Terminal Area -->
            <section class="main-area">
                <div id="marketWarning"
                    style="display:none; background: rgba(255, 0, 0, 0.2); border: 1px solid #ff4444; color: #ffcccc; padding: 12px; margin-bottom: 15px; border-radius: 4px; font-weight: bold; text-align: center; animation: pulse 2s infinite;">
                    ‚ö†Ô∏è MARKET WARNING
                </div>

                <div class="terminal-wrapper">
                    <div class="terminal-header">
                        <span class="terminal-title">üíª Live Analysis Terminal</span>
                        <span class="terminal-info" id="terminalInfo">Ready</span>
                    </div>
                    <div class="terminal" id="terminal">
                        <div class="terminal-line welcome">
                            <span class="line-prefix">$</span>
                            <span class="line-text">RBot Pro ‚Äî Multi-Exchange Technical Analysis System</span>
                        </div>
                        <div class="terminal-line welcome">
                            <span class="line-prefix">$</span>
                            <span class="line-text">Supported: MEXC ‚Ä¢ Binance ‚Ä¢ Bitget ‚Ä¢ Bybit ‚Ä¢ OKX ‚Ä¢ KuCoin ‚Ä¢ Gate.io
                                ‚Ä¢ HTX</span>
                        </div>
                        <div class="terminal-line welcome">
                            <span class="line-prefix">$</span>
                            <span class="line-text">Select exchanges, configure your analysis, and click START ANALYSIS
                                to begin</span>
                        </div>
                        <div class="terminal-line welcome">
                            <span class="line-prefix">$</span>
                            <span class="line-text">---</span>
                        </div>
                    </div>
                </div>

                <!-- Signals Area -->
                <div class="terminal-wrapper signals-wrapper" style="margin-top: 20px;">
                    <div class="terminal-header signals-header"
                        style="background: linear-gradient(90deg, #1a2a1a, #0d1a0d); border-bottom: 1px solid #2e4d2e;">
                        <span class="terminal-title">üí∏ Detected Trade Signals</span>
                        <span id="signalStats"
                            style="margin-left: 20px; font-family: 'Courier New', monospace; font-size: 0.85em; flex: 1; text-align: center;"></span>
                        <span class="terminal-info" id="signalsCount">0 Found</span>
                    </div>
                    <div class="terminal signals-box" id="signalsBox">
                        <div class="terminal-line" id="noSignalsMsg">
                            <span class="line-prefix">#</span>
                            <span class="line-text" style="color: #666;">Signals found during the current run will
                                appear here...</span>
                        </div>
                    </div>
                </div>

                <!-- Market News & Sentiment Area -->
                <div class="terminal-wrapper news-wrapper" style="margin-top: 20px; height: auto; min-height: 250px;">
                    <div class="terminal-header news-header"
                        style="background: linear-gradient(90deg, #101020, #050510); border-bottom: 1px solid #202040;">
                        <div style="display: flex; align-items: center; gap: 10px;">
                            <span class="terminal-title" style="color: #aaddff;">üì∞ Market News & Sentiment</span>
                            <div id="sentimentBadge"
                                style="padding: 2px 8px; background: #223; border-radius: 4px; font-weight: bold; border: 1px solid #445; font-size: 0.75em;">
                                Waiting for data...
                            </div>
                        </div>
                        <div style="display: flex; align-items: center; gap: 15px;">
                            <span class="terminal-info" style="white-space: nowrap;">Live Feed (5s updates)</span>
                            <button id="refreshNewsBtn" class="btn btn-mini" style="margin: 0; white-space: nowrap;"
                                onclick="refreshNews()">‚Üª Refresh</button>
                        </div>
                    </div>
                    <div class="terminal" id="newsFeedList" style="background: #020205 !important;">
                        <div class="terminal-line" style="color: #666;">
                            <span class="line-prefix">#</span>
                            <span class="line-text">Waiting for latest market news...</span>
                        </div>
                    </div>
                </div>

                <!-- Info Panels -->
                <div class="info-section">
                    <div class="info-panel">
                        <h4>üè¢ Exchanges</h4>
                        <p>MEXC ‚Ä¢ Binance ‚Ä¢ Bitget ‚Ä¢ Bybit ‚Ä¢ OKX ‚Ä¢ KuCoin ‚Ä¢ Gate.io ‚Ä¢ HTX</p>
                    </div>
                    <div class="info-panel">
                        <h4>üìä Timeframes</h4>
                        <p>1m ‚Ä¢ 3m ‚Ä¢ 5m ‚Ä¢ 15m ‚Ä¢ 30m ‚Ä¢ 1h ‚Ä¢ 4h ‚Ä¢ 1d</p>
                    </div>
                    <div class="info-panel">
                        <h4>üéØ Trade Rules</h4>
                        <p>Minimum 2:1 Risk/Reward ‚Ä¢ Multi-TF Confirmation</p>
                    </div>
                    <div class="info-panel">
                        <h4>ü§ñ Strategies</h4>
                        <p>Quantum Elite (2026) ‚Ä¢ SMC Elite ‚Ä¢ Harmonic Pro ‚Ä¢ Swing ‚Ä¢ Scalp ‚Ä¢ Pullback ‚Ä¢ Breakout ‚Ä¢
                            Ichimoku ‚Ä¢ FVG ‚Ä¢ Divergence ‚Ä¢ ADX-Mom ‚Ä¢
                            BB-Rev ‚Ä¢ Liquidity Grab ‚Ä¢ WaveTrend ‚Ä¢ Squeeze ‚Ä¢ Z-Scalp ‚Ä¢ MFI Reversion ‚Ä¢ Fisher Pivot ‚Ä¢
                            Volume Spike ‚Ä¢ PSAR-TEMA ‚Ä¢ KAMA-Vol ‚Ä¢ VFI-Scalp ‚Ä¢ Regime Adaptive ‚Ä¢ Wyckoff Spring ‚Ä¢
                            Triple Confluence ‚Ä¢ Z-Score Mean Reversion ‚Ä¢ MTF Trend Rider ‚Ä¢ Smart Money Trap ‚Ä¢
                            Momentum Exhaustion
                        </p>

                    </div>
                    <div class="info-panel">
                        <h4>üîí Data Source</h4>
                        <p>RBot Pro ‚Äî All Exchanges Supported (Live Chart Data)</p>
                    </div>
                </div>
            </section>
        </div>
    </div>

    <!-- Analysis Modal -->
    <div id="analysisModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <div class="modal-info">
                    <h2 id="modalTitle">Analysis Chart</h2>
                    <p id="modalSubtitle">Loading analysis data...</p>
                    <p id="modalReason"
                        style="font-size: 0.85em; color: #aaa; margin-top: 5px; font-style: italic; border-left: 2px solid var(--primary); padding-left: 10px;">
                    </p>
                </div>
                <button class="close-modal" onclick="closeAnalysisModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="chartContainer"></div>
                <div id="chartOverlay" class="chart-overlay">
                    <div class="loader"></div>
                    <span>Initializing Chart Data...</span>
                </div>
            </div>
            <div class="modal-footer">
                <div id="modalTradeKey" class="trade-key-grid">
                    <!-- Dynamic indicators will be added here -->
                </div>
                <div class="modal-actions">
                    <button class="btn btn-mini" onclick="closeAnalysisModal()">Close Analysis</button>
                    <button id="modalCopyBtn" class="btn btn-mini btn-primary">Copy Signal</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Strategy Agreement Modal -->
    <div id="agreementModal" class="modal">
        <div class="modal-content compact" style="max-width: 450px;">
            <div class="modal-header">
                <div class="modal-info">
                    <h2 id="agreementTitle" style="color: #00ff88;">ü§ù Strategy Agreement</h2>
                    <p id="agreementSubtitle">Strategies aligning on this setup</p>
                </div>
                <button class="close-modal" onclick="closeAgreementModal()">&times;</button>
            </div>
            <div class="modal-body">
                <div id="agreementList" class="agreement-list" style="padding: 10px 0;">
                    <!-- Strategies will be listed here -->
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn btn-mini" onclick="closeAgreementModal()" style="width: 100%;">Close Details</button>
            </div>
        </div>
    </div>

    <!-- Auto Trader Config Modal -->
    <div id="traderModal" class="modal">
        <div class="modal-content" style="max-width: 500px;">
            <div class="modal-header">
                <div class="modal-info">
                    <h2>ü§ñ Auto-Trader Setup</h2>
                    <p style="color:#aaa;">Configure Real Trading Execution</p>
                </div>
                <button class="close-modal" onclick="closeTraderConfig()">&times;</button>
            </div>
            <div class="modal-body">
                <style>
                    .tab-btn {
                        background: transparent;
                        border: none;
                        color: #888;
                        padding: 10px;
                        cursor: pointer;
                        border-bottom: 2px solid transparent;
                    }

                    .tab-btn.active {
                        color: #fff;
                        border-bottom: 2px solid var(--primary);
                    }

                    .tab-content {
                        display: none;
                        padding-top: 15px;
                    }

                    .tab-content.active {
                        display: block;
                    }
                </style>
                <div class="tabs" style="display:flex; border-bottom:1px solid #333;">
                    <button class="tab-btn active" onclick="switchTab('keys')">üîë Exchange Keys</button>
                    <button class="tab-btn" onclick="switchTab('risk')">üõ°Ô∏è Risk & Rules</button>
                </div>

                <!-- Keys Tab -->
                <div id="tab-keys" class="tab-content active">
                    <p style="font-size:0.85em; color:#ff8888; margin-bottom:10px;">‚ö†Ô∏è Note: You must provide FUTURES
                        API keys for the selected exchange.</p>
                    <div class="config-group">
                        <label>Select Exchange</label>
                        <select id="keyExchangeSelect"
                            style="width:100%; padding:8px; background:#111; border:1px solid #444; color:#fff;">
                            <option value="MEXC">MEXC</option>
                            <option value="BINANCE">Binance</option>
                            <option value="BYBIT">Bybit</option>
                            <option value="OKX">OKX</option>
                            <option value="BITGET">Bitget</option>
                            <option value="KUCOIN">KuCoin</option>
                            <option value="GATEIO">Gate.io</option>
                            <option value="HTX">HTX</option>
                        </select>
                    </div>
                    <div class="config-group">
                        <label>API Key</label>
                        <input type="text" id="apiKeyInput" placeholder="Enter API Key"
                            style="width:100%; padding:8px; background:#111; border:1px solid #444; color:#fff;">
                    </div>
                    <div class="config-group">
                        <label>Secret Key</label>
                        <input type="password" id="secretKeyInput" placeholder="Enter Secret Key"
                            style="width:100%; padding:8px; background:#111; border:1px solid #444; color:#fff;">
                    </div>
                    <button class="btn btn-primary" onclick="saveKeys()" style="width:100%;">üíæ Save Exchange
                        Keys</button>
                    <p id="keyStatus" style="margin-top:10px; font-size:0.9em; text-align:center;"></p>

                    <hr style="border-color:#333; margin:15px 0;">
                    <h4>‚úÖ Connected Exchanges:</h4>
                    <div id="connectedList" style="color:#00ff88; font-size:0.9em; min-height:20px;">Checking...</div>
                </div>

                <!-- Risk Tab -->
                <div id="tab-risk" class="tab-content">
                    <div class="config-group">
                        <label>Risk Per Trade</label>
                        <div style="display:flex; gap:10px;">
                            <select id="riskType"
                                style="padding:8px; background:#111; border:1px solid #444; color:#fff;">
                                <option value="percent">% of Balance</option>
                                <option value="fixed">Fixed USDT</option>
                            </select>
                            <input type="number" id="riskValue" value="1.0" step="0.1"
                                style="width:100px; padding:8px; background:#111; border:1px solid #444; color:#fff;">
                        </div>
                        <p style="font-size:0.8em; color:#888;">Example: 1.0% means risking 1% of total balance per
                            trade.</p>
                    </div>
                    <div class="config-group">
                        <label>Auto-Trade Filters (Only trade these)</label>
                        <div class="checkbox-group">
                            <label style="color:#ffd700;"><input type="checkbox" id="filterElite" value="ELITE" checked>
                                üèÜ ELITE</label>
                            <label style="color:#00ff88;"><input type="checkbox" id="filterStrong" value="STRONG"
                                    checked> üí™ STRONG</label>
                            <label style="color:#00d4ff;"><input type="checkbox" id="filterStandard" value="STANDARD">
                                üìä STANDARD</label>
                        </div>
                    </div>
                    <button class="btn btn-primary" onclick="saveRiskSettings()" style="width:100%;">üíæ Save
                        Settings</button>
                    <p id="riskStatus" style="margin-top:10px; font-size:0.9em; text-align:center; color:#00ff88;"></p>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='advanced_script.js') }}?v=1739221305"></script>
</body>

</html>